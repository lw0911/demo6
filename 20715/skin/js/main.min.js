$({property: 0}).animate({property: 100}, {
                duration: 3000,
                step: function() {
                    var percentage = Math.round(this.property);
                    $('#progress').css('width',  percentage+"%");
                     if(percentage == 100) {
                            $("#progress").addClass("done");//完成，隐藏进度条
                        }
                }
});
$(".size").click(function(){
        var thisEle = $(".arttext").css("font-size"); 
        var textFontSize = parseFloat(thisEle , 10);
        var unit = thisEle.slice(-2); 
        var cName = $(this).attr("rel");
        if(cName == "bigger"){
                textFontSize += 2;
        }else if(cName == "smaller"){
                textFontSize -= 2;
        }
        //设置para的字体大小
        $(".arttext").css("font-size",  textFontSize + unit );
    }); 
 $('li.dropdown').mouseover(function() {   
$(this).addClass('open');    }).mouseout(function() {        $(this).removeClass('open');  
  }); 
//如果浏览器支持requestAnimFrame则使用requestAnimFrame否则使用setTimeout  
window.requestAnimFrame = (function(){  
return  window.requestAnimationFrame       ||  
        window.webkitRequestAnimationFrame ||  
        window.mozRequestAnimationFrame    ||  
        function( callback ){  
          window.setTimeout(callback, 1000 / 60);  
        };  
})();
(function($) {
    var _options = new Array();
	jQuery.fn.MyFloatingBg = function(options) {
		_options[_options.length] = $.extend({}, $.fn.MyFloatingBg.defaults, options);
		var idx = _options.length-1;
		var opt = _options[idx];
		$(this).attr("idx", idx);

		var direction = -1;
		if (opt.direction == -1)
			direction = getDirection();
		else
			direction = opt.direction;
			
		var sign1 = "+";
		var sign2 = "+";
		if (direction == 0)
		{
			sign1 = "+";
			sign2 = "-";
		}
		else if (direction == 1)
		{
			sign1 = "-";
			sign2 = "+";
		}
		else if (direction == 2)
		{
			sign1 = "+";
			sign2 = "+";
		}
		else if (direction == 3)
		{
			sign1 = "-";
			sign2 = "-";
		}
		$(this).each(function(){
		//	var bg = $(this).attr("bg");
			//$(this).css("background", "url('" + bg + "')");
			$(this).attr("sign1", sign1);
			$(this).attr("sign2", sign2);
		
			$(this).attr("cnt", 1);
			doShift($(this));
		});
	}
	
	function doShift(o)
	{
		var idx = $(o).attr("idx", idx);
		var opt = _options[idx];
				
		setTimeout(function(){
						
			var cnt = $(o).attr("cnt");

			if (cnt>1000)
				cnt = 0;
			else
				cnt = eval(cnt)+1;
			$(o).attr("cnt", cnt);

			var sign1 = $(o).attr("sign1");
			var sign2 = $(o).attr("sign2");

			o.css("backgroundPosition", sign1 + cnt+"px" + " " + sign2 + cnt+"px");
			
			doShift(o);
		}, 100);
	}
	function getDirection()
	{
		return Math.floor(Math.random()*4)
	}
	//default values
	jQuery.fn.MyFloatingBg.defaults = {
		speed: 50,
		direction: -1
	};
})(jQuery);
jQuery(document).ready(function($){
	// browser window scroll (in pixels) after which the "back to top" link is shown
	var offset = 300,
		//browser window scroll (in pixels) after which the "back to top" link opacity is reduced
		offset_opacity = 1200,
		//duration of the top scrolling animation (in ms)
		scroll_top_duration = 700,
		//grab the "back to top" link
		$back_to_top = $('.cd-top');

	//hide or show the "back to top" link
	$(window).scroll(function(){
		( $(this).scrollTop() > offset ) ? $back_to_top.addClass('cd-is-visible') : $back_to_top.removeClass('cd-is-visible cd-fade-out');
		if( $(this).scrollTop() > offset_opacity ) { 
			$back_to_top.addClass('cd-fade-out');
		}
	});

	//smooth scroll to top
	$back_to_top.on('click', function(event){
		event.preventDefault();
		$('body,html').animate({
			scrollTop: 0 ,
		 	}, scroll_top_duration
		);
	});

});
$(document).ready(function() {
$("#stars").MyFloatingBg({direction: -2, speed: 500});
});
function loops(){  
  $("#stars").animate({
           backgroundPositionX: "-1000px",
           backgroundPositionY: "1000px"
       }, 300000,"linear",function(){
             $("#stars").css({backgroundPosition:"0px 0px"});
          });/*
$("#magic").animate({
         backgroundPositionX: "2000px",
         backgroundPositionY: "0"
     }, 1000000,"linear",function(){
           $("#magic").css({backgroundPosition:"0px 0px"});
        });*/
// requestAnimFrame(loop);
}  
   //   loops();
   